<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hello World</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
            padding: 2rem;
        }

        .container {
            text-align: center;
            background: white;
            padding: 2.5rem 3rem;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            max-width: 900px;
            width: 100%;
        }

        h1 {
            font-size: 3.5rem;
            margin-bottom: 1rem;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        p {
            font-size: 1.2rem;
            color: #666;
        }

        .game-section {
            margin-top: 2.5rem;
            padding-top: 2rem;
            border-top: 2px solid #eee;
            text-align: center;
        }

        #basketballCanvas {
            border: 3px solid #f59e0b;
            border-radius: 12px;
            background: linear-gradient(180deg, #0b172a 0%, #0f2038 100%);
            display: block;
            margin: 1rem auto;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        }

        .game-info {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin-top: 0.5rem;
            font-weight: 700;
            color: #f59e0b;
        }

        .control-row {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.75rem;
            margin-top: 0.8rem;
            flex-wrap: wrap;
            color: #444;
        }

        .control-row button {
            padding: 0.75rem 1.6rem;
            border: none;
            border-radius: 999px;
            background: linear-gradient(135deg, #f59e0b 0%, #f97316 100%);
            color: white;
            font-weight: 700;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(245, 158, 11, 0.4);
            transition: transform 0.15s ease, box-shadow 0.15s ease;
        }

        .control-row button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(245, 158, 11, 0.5);
        }

        .control-row button:active {
            transform: translateY(0);
        }

        .instructions {
            margin-top: 0.5rem;
            font-size: 0.95rem;
            color: #666;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Hello World</h1>
        <p>Welcome to your first webpage!</p>

        <div class="game-section">
            <h2 style="color: #f59e0b; margin-bottom: 0.75rem;">Arcade Basketball</h2>
            <canvas id="basketballCanvas" width="640" height="420"></canvas>
            <div class="game-info">
                <div>Score: <span id="scoreValue">0</span></div>
                <div>Shots: <span id="shotsValue">0</span></div>
            </div>
            <div class="control-row">
                <span>Aim: click & drag, release to shoot</span>
                <button onclick="resetBall()">Reset Ball</button>
            </div>
            <p class="instructions">Tip: longer drags = more power; angle sets your arc.</p>
        </div>
    </div>

    <script>
        // Arcade Basketball
        const canvas = document.getElementById('basketballCanvas');
        const ctx = canvas.getContext('2d');

        const gravity = 0.45;
        const groundY = canvas.height - 40;
        const ballRadius = 14;
        const startPos = { x: 110, y: groundY - ballRadius };

        const rim = {
            x: canvas.width - 160,
            y: canvas.height * 0.45,
            width: 70,
            thickness: 6
        };

        let ball = {
            x: startPos.x,
            y: startPos.y,
            vx: 0,
            vy: 0,
            inAir: false,
            dragging: false,
            lastY: startPos.y
        };

        let score = 0;
        let shots = 0;
        let justScored = false;

        function drawCourt() {
            // Sky background already set by canvas background
            // Court floor
            ctx.fillStyle = '#1b2f4a';
            ctx.fillRect(0, groundY, canvas.width, canvas.height - groundY);

            // Hoop stand and backboard
            ctx.fillStyle = '#ddd';
            ctx.fillRect(rim.x + rim.width - 10, rim.y - 30, 8, 180);
            ctx.fillStyle = '#f8f8f8';
            ctx.fillRect(rim.x - 20, rim.y - 40, rim.width + 40, 30);

            // Rim
            ctx.fillStyle = '#f97316';
            ctx.fillRect(rim.x, rim.y, rim.width, rim.thickness);

            // Net hint
            ctx.strokeStyle = 'rgba(255,255,255,0.5)';
            ctx.lineWidth = 1.5;
            ctx.beginPath();
            ctx.moveTo(rim.x, rim.y + rim.thickness);
            ctx.lineTo(rim.x + rim.width / 2, rim.y + 22);
            ctx.lineTo(rim.x + rim.width, rim.y + rim.thickness);
            ctx.stroke();
        }

        function drawBall() {
            ctx.fillStyle = '#f59e0b';
            ctx.beginPath();
            ctx.arc(ball.x, ball.y, ballRadius, 0, Math.PI * 2);
            ctx.fill();
            ctx.strokeStyle = '#d97706';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.arc(ball.x, ball.y, ballRadius - 4, 0, Math.PI * 2);
            ctx.stroke();
        }

        function drawAimLine(mouseX, mouseY) {
            if (!ball.dragging) return;
            ctx.strokeStyle = 'rgba(255,255,255,0.7)';
            ctx.lineWidth = 2;
            ctx.setLineDash([6, 6]);
            ctx.beginPath();
            ctx.moveTo(ball.x, ball.y);
            ctx.lineTo(mouseX, mouseY);
            ctx.stroke();
            ctx.setLineDash([]);
        }

        function resetBall() {
            ball.x = startPos.x;
            ball.y = startPos.y;
            ball.vx = 0;
            ball.vy = 0;
            ball.inAir = false;
            ball.dragging = false;
            justScored = false;
            ball.lastY = ball.y;
            render();
        }

        function updateScoreboard() {
            document.getElementById('scoreValue').textContent = score;
            document.getElementById('shotsValue').textContent = shots;
        }

        function stepPhysics() {
            ball.lastY = ball.y;

            // Apply gravity
            ball.vy += gravity;
            ball.x += ball.vx;
            ball.y += ball.vy;

            // Ground collision
            if (ball.y + ballRadius >= groundY) {
                ball.y = groundY - ballRadius;
                ball.vy = -ball.vy * 0.35;
                ball.vx *= 0.9;
                if (Math.abs(ball.vy) < 0.8) {
                    ball.vy = 0;
                }
                if (Math.abs(ball.vx) < 0.3 && Math.abs(ball.vy) === 0) {
                    ball.inAir = false;
                }
                justScored = false; // allow next score once ball resets/lands
            }

            // Wall bounds
            if (ball.x - ballRadius < 0) {
                ball.x = ballRadius;
                ball.vx = -ball.vx * 0.4;
            }
            if (ball.x + ballRadius > canvas.width) {
                ball.x = canvas.width - ballRadius;
                ball.vx = -ball.vx * 0.4;
            }

            // Rim collision (simple rectangle)
            if (
                ball.x + ballRadius > rim.x &&
                ball.x - ballRadius < rim.x + rim.width &&
                ball.y + ballRadius > rim.y &&
                ball.y - ballRadius < rim.y + rim.thickness &&
                ball.vy > 0
            ) {
                ball.y = rim.y - ballRadius;
                ball.vy = -Math.abs(ball.vy) * 0.6;
            }

            // Scoring: ball passes through hoop area while moving downward
            const withinHoopX = ball.x > rim.x + 10 && ball.x < rim.x + rim.width - 10;
            const passedDownward = ball.lastY < rim.y && ball.y >= rim.y && ball.vy > 0;
            if (withinHoopX && passedDownward && !justScored) {
                score += 1;
                justScored = true;
                updateScoreboard();
            }
        }

        function render(mouseX = null, mouseY = null) {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            drawCourt();
            drawAimLine(mouseX, mouseY);
            drawBall();
        }

        function gameLoop() {
            if (ball.inAir) {
                stepPhysics();
            }
            render();
            requestAnimationFrame(gameLoop);
        }

        // Mouse controls for aim and shoot
        canvas.addEventListener('mousedown', (e) => {
            const rect = canvas.getBoundingClientRect();
            const mouseX = e.clientX - rect.left;
            const mouseY = e.clientY - rect.top;
            const dist = Math.hypot(mouseX - ball.x, mouseY - ball.y);
            if (dist <= ballRadius + 8 && !ball.inAir) {
                ball.dragging = true;
            }
        });

        canvas.addEventListener('mousemove', (e) => {
            if (!ball.dragging) return;
            const rect = canvas.getBoundingClientRect();
            render(e.clientX - rect.left, e.clientY - rect.top);
        });

        canvas.addEventListener('mouseup', (e) => {
            if (!ball.dragging) return;
            const rect = canvas.getBoundingClientRect();
            const mouseX = e.clientX - rect.left;
            const mouseY = e.clientY - rect.top;
            const dx = ball.x - mouseX;
            const dy = ball.y - mouseY;

            // Power scaling
            ball.vx = dx * 0.18;
            ball.vy = dy * 0.18;
            ball.inAir = true;
            ball.dragging = false;
            justScored = false;
            shots += 1;
            updateScoreboard();
        });

        // Touch support
        canvas.addEventListener('touchstart', (e) => {
            const rect = canvas.getBoundingClientRect();
            const touch = e.touches[0];
            const mouseX = touch.clientX - rect.left;
            const mouseY = touch.clientY - rect.top;
            const dist = Math.hypot(mouseX - ball.x, mouseY - ball.y);
            if (dist <= ballRadius + 12 && !ball.inAir) {
                ball.dragging = true;
                e.preventDefault();
            }
        }, { passive: false });

        canvas.addEventListener('touchmove', (e) => {
            if (!ball.dragging) return;
            const rect = canvas.getBoundingClientRect();
            const touch = e.touches[0];
            render(touch.clientX - rect.left, touch.clientY - rect.top);
            e.preventDefault();
        }, { passive: false });

        canvas.addEventListener('touchend', (e) => {
            if (!ball.dragging) return;
            const rect = canvas.getBoundingClientRect();
            const touch = e.changedTouches[0];
            const mouseX = touch.clientX - rect.left;
            const mouseY = touch.clientY - rect.top;
            const dx = ball.x - mouseX;
            const dy = ball.y - mouseY;
            ball.vx = dx * 0.18;
            ball.vy = dy * 0.18;
            ball.inAir = true;
            ball.dragging = false;
            justScored = false;
            shots += 1;
            updateScoreboard();
            e.preventDefault();
        }, { passive: false });

        // Init
        updateScoreboard();
        render();
        requestAnimationFrame(gameLoop);
    </script>
</body>
</html>

